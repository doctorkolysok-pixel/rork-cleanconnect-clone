#!/usr/bin/env bun

console.log(`
╔══════════════════════════════════════════════════════════════╗
║                                                              ║
║   🚀 TazaGo - Инструкция по запуску                         ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝

📋 Структура приложения:
┌─────────────┐      ┌─────────────┐      ┌─────────────┐
│  Фронтенд   │ ←──→ │   Бэкенд    │ ←──→ │ База данных │
│  (Expo)     │      │ (Hono/tRPC) │      │  (SQLite)   │
└─────────────┘      └─────────────┘      └─────────────┘

⚡ БЫСТРЫЙ ЗАПУСК:

┌─ Терминал 1 ───────────────────────────────────────────────┐
│ $ bun server/index.ts                                       │
│                                                             │
│ ✅ Сервер успешно запущен!                                 │
│ 🔗 http://localhost:3000                                   │
│                                                             │
│ ⚠️  НЕ ЗАКРЫВАЙТЕ ЭТОТ ТЕРМИНАЛ!                           │
└─────────────────────────────────────────────────────────────┘

┌─ Терминал 2 ───────────────────────────────────────────────┐
│ $ bun run start                                             │
│                                                             │
│ ▶ Metro bundler готов                                      │
│ 📱 QR-код для телефона                                     │
│ 🌐 http://localhost:8081                                   │
└─────────────────────────────────────────────────────────────┘

🔍 ПРОВЕРКА:

✓ Бэкенд работает?
  → Откройте: http://localhost:3000/
  → Должно быть: {"status":"ok","message":"API is running"}
  
✓ Или используйте:
  $ bun check-backend.ts

❌ ОШИБКА "Failed to fetch"?

  Причина: Бэкенд не запущен
  Решение: 
    1. Откройте новый терминал
    2. Выполните: bun server/index.ts
    3. Дождитесь ✅ и попробуйте снова

🗄️  ПЕРВЫЙ ЗАПУСК (настройка БД):

  $ bun drizzle-kit generate
  $ bun drizzle-kit migrate  
  $ bun backend/db/seed.ts

📚 ДОКУМЕНТАЦИЯ:

  ├─ ШПАРГАЛКА.md                    (эта инструкция в файле)
  ├─ БЫСТРОЕ_РЕШЕНИЕ_ОШИБКИ.md      (экстренная помощь)
  ├─ ЗАПУСК_ПРИЛОЖЕНИЯ.md           (подробная инструкция)
  ├─ АРХИТЕКТУРА_И_ДИАГНОСТИКА.md   (как всё устроено)
  └─ ИСПРАВЛЕНИЕ_ЗАВЕРШЕНО.md       (что было исправлено)

🎯 ПОЛЕЗНЫЕ КОМАНДЫ:

  bun check-backend.ts      - Проверить статус бэкенда
  bun server/index.ts       - Запустить бэкенд
  bun run start             - Запустить фронтенд
  ls tazago.db              - Проверить базу данных

💡 СОВЕТ: Держите оба терминала открытыми во время разработки!

╔══════════════════════════════════════════════════════════════╗
║  Готово! Теперь можете работать с приложением! 🎉          ║
╚══════════════════════════════════════════════════════════════╝
`);
